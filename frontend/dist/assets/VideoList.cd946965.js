import{_ as D,d as G,h as R,a as p,p as M,i as z,r as A,H as K,g as f,I as $,j as C,b as i,k as q,l as U,m as T,w as d,n as F,J as H,V as I,K as J,L as Q,M as X,P as W,N as _,o as E,e as l,f as s,z as Y,v as j,y as P}from"./index.342273a1.js";const Z=H(),O=G({setup(){const e=R(),t={Title:[{required:!0,message:"\u8BF7\u8F93\u5165\u89C6\u9891\u6807\u9898"}],Number:[{required:!0,message:"\u8BF7\u8F93\u5165\u89C6\u9891\u7F16\u53F7"}],FormalLocal:[{required:!0,message:"\u8BF7\u8F93\u5165\u672C\u5730\u89C6\u9891\u8D44\u6E90\u5730\u5740"}],ShortLocal:[{required:!0,message:"\u8BF7\u8F93\u5165\u672C\u5730\u9884\u89C8\u89C6\u9891"}]},v=p(),S=[{label:"\u7F16\u8F91",key:"edit"},{label:()=>C("span",{style:{color:"red"}},"\u5220\u9664"),key:"delete"}],N=M(()=>({pageSize:10})),c=p(!1),u=p(0),n=p(0),b=()=>{I(v.value).then(o=>{o.code!==200&&f({title:o.msg,type:"error"}),v.value=o.data.Query,o.data.Hits===0?y.value={}:y.value=o.data.Items})};z(()=>{b()});let k=A({}),y=p();const L=p(!1),r=p(!1),m=p({Id:"",Url:"",Type:"",Payload:{Title:"",VideoShort:"",Pic:"",Url:"",VideoPreview:"",VideoFormal:"",Number:"",ShortLocal:"",PreviewLocal:"",FormalLocal:"",ImgLocal:""}}),g=o=>{r.value=!0,k.value=o,m.value=o};let h=()=>{I(v.value).then(o=>{o.code!==200&&f({title:o.msg,type:"error"}),v.value=o.data.Query,o.data.Hits===0?y.value={}:y.value=o.data.Items})};const w=o=>{console.log(o),J.confirm("\u8BF7\u518D\u6B21\u786E\u8BA4 ?",{confirmButtonText:"\u5220\u9664",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{Q(o).then(a=>{if(r.value=!1,a.code!==200){f({title:a.msg,type:"error"});return}f({title:a.msg,type:"success"}),h()})})},V=()=>{X(m.value).then(o=>{if(r.value=!1,o.code!==200){f({title:o.msg,type:"error"});return}f({title:o.msg,type:"success"})})},B=()=>{W(m.value).then(o=>{if(o.code!==200){f({title:o.msg,type:"error"});return}m.value.Payload.Number=o.data.Payload.Number})};return{emits:Z,showDataModal:g,deleteRow:w,videoManageList:h,addList:V,dialogVisible:r,rules:t,form:m,data:y,keyword:v,paginationRef:N,searchData:b,options:S,showDropdown:c,x:u,y:n,selectedRow:{},rowKey(o){return o},createVideo(){V(),setTimeout(()=>{h()},100)},dialogVisibleAddBatch(){L.value=!0},dialogVisibleAdd(){m.value={Id:"",Url:"",Type:"",Payload:{Title:"",VideoShort:"",Pic:"",Url:"",VideoPreview:"",VideoFormal:"",Number:"",ShortLocal:"",PreviewLocal:"",FormalLocal:"",ImgLocal:""}},r.value=!0},VideoListExport(){K(v.value).then(o=>{o.code!==200&&f({title:o.msg,type:"error"})})},search(){h()},handleSelect(){c.value=!1},onClickoutside(){c.value=!1},rowProps:o=>({onContextmenu:a=>{a.preventDefault(),c.value=!1,$().then(()=>{c.value=!0,u.value=a.clientX,n.value=a.clientY,r.value=!1})}}),cols:[{title:"No.",key:"no"},{title:"id",key:"Id"},{title:"\u6807\u9898",key:"Title",render(o){return C(_,{size:"small",onClick:()=>g(o)},{default:()=>o.Payload.Title})}},{title:"\u64CD\u4F5C",key:"Title",render(o){return C(_,{size:"small",onClick:()=>w(o)},{default:()=>"\u5220\u9664"})}},{title:"\u7F51\u7AD9\u94FE\u63A5",key:"Url"}],autoGetVideoNumber(){e.info("\u5F85\u5F00\u53D1"),B()}}}}),x=P("br",null,null,-1),ee=P("br",null,null,-1),le=P("br",null,null,-1),oe=P("br",null,null,-1);function ae(e,t,v,S,N,c){const u=i("n-button"),n=i("n-input"),b=i("el-header"),k=i("n-data-table"),y=i("n-dropdown"),L=i("n-alert"),r=i("n-form-item"),m=i("n-form"),g=i("n-card"),h=i("n-modal"),w=i("el-main"),V=i("n-message-provider"),B=i("el-container"),o=q("loading");return U((E(),T(B,{class:"page-cantor",style:F(e.areaStyle)},{default:d(()=>[l(b,{class:"header-area",style:{height:"89px"}},{default:d(()=>[l(u,{onClick:e.VideoListExport},{default:d(()=>[s("\u5BFC\u51FA EXCEL ")]),_:1},8,["onClick"]),l(u,{onClick:e.dialogVisibleAdd},{default:d(()=>[s(" \u65B0\u589E\u89C6\u9891 ")]),_:1},8,["onClick"]),l(u,{onClick:e.dialogVisibleAddBatch},{default:d(()=>[s(" \u6279\u91CF\u65B0\u589E ")]),_:1},8,["onClick"]),l(n,{value:e.keyword,"onUpdate:value":t[0]||(t[0]=a=>e.keyword=a),placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u5B57",onKeyup:Y(e.search,["enter"]),onEmitVideoList:e.search},null,8,["value","onKeyup","onEmitVideoList"])]),_:1}),l(V,null,{default:d(()=>[l(w,{class:"main-area",style:{"--wails-draggable":"no-drag"}},{default:d(()=>[l(k,{columns:e.cols,data:e.data,"row-props":e.rowProps,pagination:e.paginationRef},null,8,["columns","data","row-props","pagination"]),l(y,{placement:"bottom-start",trigger:"manual","row-key":e.rowKey,x:e.x,y:e.y,options:e.options,show:e.showDropdown,"on-clickoutside":e.onClickoutside,onSelect:e.handleSelect},null,8,["row-key","x","y","options","show","on-clickoutside","onSelect"]),l(h,{show:e.dialogVisible,"onUpdate:show":t[15]||(t[15]=a=>e.dialogVisible=a),style:{width:"1500px"}},{default:d(()=>[l(g,{style:F([{width:"67%"},{maxWidth:"840px"}]),title:"\u89C6\u9891\u65B0\u589E/\u4FEE\u6539",bordered:!1,size:"huge",role:"dialog","aria-modal":"true","label-width":90},{"header-extra":d(()=>[]),footer:d(()=>[]),default:d(()=>[l(m,{model:e.form,rules:e.rules,"label-placement":"left"},{default:d(()=>[l(L,{title:"\u65B0\u589E\u6587\u4EF6\u89C4\u5219",type:"info",bordered:!1,style:{"margin-bottom":"30px"}},{default:d(()=>[s(" 1\u3001\u65B0\u589E\u89C6\u9891\u524D\uFF1A\u8BF7\u521B\u5EFA\u5982\u4E0B\u76EE\u5F55 "),x,s("\xA0\xA0\xA0\xA0\xA0\xA0Z:\\\u534E\u7AE0\u7D20\u6750\u5E93 => \u89C6\u9891\u7F16\u53F7\u540D\u79F0\u6587\u4EF6\u5939 => 4\u79CD\u8D44\u6E90\u6587\u4EF6"),ee,le,s(" 2\u3001\u89C6\u9891\u7F16\u53F7\u89C4\u5219\u53C2\u8003\uFF1Ahttps://www.vjshi.com/watch/27067568.html "),oe,s("\xA0\xA0\xA0\xA0\xA0\xA0\u89C6\u9891\u7F16\u53F7\uFF1A27067568 ")]),_:1}),U(l(r,{path:"Type",label:"Type"},{default:d(()=>[l(n,{disabled:!0,value:e.form.Type,"onUpdate:value":t[1]||(t[1]=a=>e.form.Type=a),placeholder:"\u81EA\u52A8\u6DFB\u52A0"},null,8,["value"])]),_:1},512),[[j,!1]]),U(l(r,{path:"Id",label:"Id"},{default:d(()=>[l(n,{disabled:!0,value:e.form.Id,"onUpdate:value":t[2]||(t[2]=a=>e.form.Id=a),placeholder:"\u81EA\u52A8\u6DFB\u52A0"},null,8,["value"])]),_:1},512),[[j,!1]]),l(r,{path:"Number",label:"\u89C6\u9891\u7F16\u53F7 ",title:"aa"},{default:d(()=>[l(u,{onClick:e.autoGetVideoNumber},{default:d(()=>[s("\u81EA\u52A8\u83B7\u53D6")]),_:1},8,["onClick"]),l(n,{value:e.form.Payload.Number,"onUpdate:value":t[3]||(t[3]=a=>e.form.Payload.Number=a),placeholder:"\u65B0\u589E\u65F6\uFF0C\u8BF7\u4FDD\u6301\u7F16\u53F7\u89C6\u9891\u4E0D\u8981\u91CD\u590D\uFF01"},null,8,["value"])]),_:1}),l(r,{path:"Title",label:"\u89C6\u9891\u6807\u9898"},{default:d(()=>[l(n,{value:e.form.Payload.Title,"onUpdate:value":t[4]||(t[4]=a=>e.form.Payload.Title=a),placeholder:"\u89C6\u9891\u6807\u9898"},null,8,["value"])]),_:1}),l(r,{path:"ShortLocal",label:"\u672C\u5730\u9884\u89C8\u5730\u5740"},{default:d(()=>[l(n,{value:e.form.Payload.ShortLocal,"onUpdate:value":t[5]||(t[5]=a=>e.form.Payload.ShortLocal=a),placeholder:"G:\\Videos/8909441/\u6EF4\u6C34\u7A7F\u77F3 \u5CA9\u77F3\u6EF4\u6C34_8909441_VideoShort.mp4"},null,8,["value"])]),_:1}),l(r,{path:"FormalLocal",label:"\u672C\u5730\u8D44\u6E90\u5730\u5740"},{default:d(()=>[l(n,{value:e.form.Payload.FormalLocal,"onUpdate:value":t[6]||(t[6]=a=>e.form.Payload.FormalLocal=a),placeholder:"G:\\Videos/8909441/\u6EF4\u6C34\u7A7F\u77F3 \u5CA9\u77F3\u6EF4\u6C34_8909441_VideoFormal.mp4"},null,8,["value"])]),_:1}),l(r,{path:"PreviewLocal",label:"\u672C\u5730\u5C0F\u6837\u5730\u5740"},{default:d(()=>[l(n,{value:e.form.Payload.PreviewLocal,"onUpdate:value":t[7]||(t[7]=a=>e.form.Payload.PreviewLocal=a),placeholder:"G:\\Videos/8909441/\u6EF4\u6C34\u7A7F\u77F3 \u5CA9\u77F3\u6EF4\u6C34_8909441_VideoPreview.mp4"},null,8,["value"])]),_:1}),l(r,{path:"ImgLocal",label:"\u672C\u5730\u56FE\u7247\u5730\u5740"},{default:d(()=>[l(n,{value:e.form.Payload.ImgLocal,"onUpdate:value":t[8]||(t[8]=a=>e.form.Payload.ImgLocal=a),placeholder:"G:\\Videos/8909441/\u6EF4\u6C34\u7A7F\u77F3 \u5CA9\u77F3\u6EF4\u6C34_8909441.jpg"},null,8,["value"])]),_:1}),l(r,{path:"Url",label:"\u89C6\u9891\u5730\u5740"},{default:d(()=>[l(n,{value:e.form.Url,"onUpdate:value":t[9]||(t[9]=a=>e.form.Url=a),placeholder:"https://www.vjshi.com/watch/8909441.html"},null,8,["value"])]),_:1}),l(r,{path:"VideoShort",label:"\u9884\u89C8\u89C6\u9891"},{default:d(()=>[l(n,{value:e.form.Payload.VideoShort,"onUpdate:value":t[10]||(t[10]=a=>e.form.Payload.VideoShort=a),placeholder:"https://lmp4.vjshi.com/2022-08-28/7cf436ce6cbb4b589dfae5a68318bd10.mp4"},null,8,["value"])]),_:1}),l(r,{path:"Pic",label:"\u9884\u89C8\u56FE\u7247"},{default:d(()=>[l(n,{value:e.form.Payload.Pic,"onUpdate:value":t[11]||(t[11]=a=>e.form.Payload.Pic=a),placeholder:"https://pic.vjshi.com/2022-08-28/7cf436ce6cbb4b589dfae5a68318bd10/online/797a9896d32e46958e8a3a0ac33a9052.jpg?x-oss-process=style/w1440_h2880"},null,8,["value"])]),_:1}),l(r,{path:"VideoPreview",label:"\u89C6\u9891\u5C0F\u6837"},{default:d(()=>[l(n,{value:e.form.Payload.VideoPreview,"onUpdate:value":t[12]||(t[12]=a=>e.form.Payload.VideoPreview=a),placeholder:"https://mp4.vjshi.com/2022-08-28/7cf436ce6cbb4b589dfae5a68318bd10.mp4"},null,8,["value"])]),_:1}),l(r,{path:"VideoFormal",label:"\u89C6\u9891\u5730\u5740/\u538B\u7F29\u5305\u5730\u5740"},{default:d(()=>[l(n,{value:e.form.Payload.VideoFormal,"onUpdate:value":t[13]||(t[13]=a=>e.form.Payload.VideoFormal=a),placeholder:"https://down.vjshi.com/2022-08-28/8909441_VJshi_0480c6149f8fa56ab686590d33896492.mp4?auth_key=1701938201-0-0-c007876c45599831d2bb50d212021d6b&rename=%E5%85%89%E5%8E%82_8909441_%E6%BB%B4%E6%B0%B4%E7%A9%BF%E7%9F%B3%E5%B2%A9%E7%9F%B3%E6%BB%B4%E6%B0%B4.mp4"},null,8,["value"])]),_:1}),l(r,null,{default:d(()=>[e.form.Id===""?(E(),T(u,{key:0,type:"primary",onClick:e.createVideo,disabled:e.form.Payload.Number===""||e.form.Payload.FormalLocal===""||e.form.Payload.ShortLocal===""||e.form.Payload.Title==="",loading:e.loading},{default:d(()=>[s("\u521B\u5EFA")]),_:1},8,["onClick","disabled","loading"])):(E(),T(u,{key:1,type:"primary",onClick:e.createVideo},{default:d(()=>[s("\u4FDD\u5B58")]),_:1},8,["onClick"])),l(u,{onClick:t[14]||(t[14]=a=>e.dialogVisible=!1)},{default:d(()=>[s("\u53D6\u6D88")]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1},8,["show"])]),_:1})]),_:1})]),_:1},8,["style"])),[[o,e.loading]])}const de=D(O,[["render",ae]]);export{de as default};
