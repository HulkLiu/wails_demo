import{_ as K,d as T,a as r,h as I,S as $,g as q,O as L,b as d,n as U,w as n,o as N,e as l,q as M,f as c,k as V,v as C,m as u,t as k,c as B,s as j,F as D}from"./index.a5e916c4.js";const E=T({setup(){const e=r(!0),s=r(!0);let i=r({page:"",query:""}),y=r(),F=r(),v=r(),m=r(),f=r(),g=r(),_=r(),p=r();I(()=>{b()});const h=()=>{e.value=g.value>=0,s.value=_.value!==m.value},P=()=>{i.query=v.value,i.page=g.value,b(i)},w=()=>{i.query=v.value,i.page=_.value,b(i)},b=a=>{console.log(a),$(a).then(t=>{if(t.code!==200){q({title:t.msg,type:"error"});return}y.value=t.data.Items,p.value=y.value.length,v.value=t.data.Query,m.value=t.data.Hits,f.value=t.data.Start,g.value=t.data.PrevFrom,_.value=t.data.NextFrom,h()})};return{form:i,list:y,page:F,listLength:p,hits:m,start:f,query:v,prevFrom:g,nextFrom:_,dialogVisible1:e,dialogVisible2:s,search(){i.query=v.value,i.page=F.value,$(i).then(a=>{if(console.log(i),a.code!==200){q({title:a.msg,type:"error"});return}y.value=a.data.Items,p.value=y.value.length,m.value=a.data.Hits,f.value=a.data.Start,g.value=a.data.PrevFrom,_.value=a.data.NextFrom,v.value=a.data.Query,h()})},playVideo(){const a=event.target,t=a.querySelector(".video-source");t.dataset.src||(t.dataset.src=t.src,a.load()),a.playbackRate=1,a.muted=!1,a.play()},stopVideo(){const a=event.target;a.pause(),a.currentTime=0},openFolder(a){L(a).then(t=>{t.code!==200&&q({title:t.msg,type:"error"})})},prePage(){P()},nextPage(){w()}}}}),H={align:"center"},O={class:"table-responsive-vertical shadow-z-1"},Q={id:"table",class:"table table-striped table-hover table-mc-indigo"},z={id:"video-container"},R={class:"video-val"},A=["poster"],G=["src"],J={class:"video-title"};function W(e,s,i,y,F,v){const m=d("el-header"),f=d("el-aside"),g=d("n-input"),_=d("n-button"),p=d("el-button"),h=d("el-button-group"),P=d("el-link"),w=d("n-form"),b=d("el-template"),a=d("el-main"),t=d("el-container");return N(),U(t,{class:"page-cantor"},{default:n(()=>[l(m,{class:"header-area",style:{height:"20px"}}),l(f,{class:"side-area",style:{width:"78px","--wails-draggable":"drag"}}),l(a,{class:"main-area",style:{"--wails-draggable":"no-drag"}},{default:n(()=>[l(b,null,{default:n(()=>[l(w,null,{default:n(()=>[l(g,{value:e.query,"onUpdate:value":s[0]||(s[0]=o=>e.query=o),placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u5B57",onKeyup:M(e.search,["enter"])},null,8,["value","onKeyup"]),l(_,{onClick:e.search},{default:n(()=>[c("\u641C\u7D22")]),_:1},8,["onClick"]),l(h,{style:{display:"flex","justify-content":"center","align-items":"center"},value:e.page,"onUpdate:value":s[1]||(s[1]=o=>e.page=o)},{default:n(()=>[V(l(p,{onClick:e.prePage},{default:n(()=>[c("\u4E0A\u4E00\u9875")]),_:1},8,["onClick"]),[[C,e.dialogVisible1===!0]]),V(l(p,{onClick:e.nextPage},{default:n(()=>[c("\u4E0B\u4E00\u9875")]),_:1},8,["onClick"]),[[C,e.dialogVisible2===!0]])]),_:1},8,["value"]),u("div",H,[u("h1",null,"\u5171\u4E3A\u4F60\u627E\u5230\u76F8\u5173\u7ED3\u679C\u7EA6\u4E3A"+k(e.hits)+"\u4E2A\u3002\u663E\u793A\u4ECE"+k(e.start)+"\u8D77\u5171"+k(e.listLength)+"\u4E2A\u3002",1)]),u("div",O,[u("table",Q,[u("tbody",null,[u("div",z,[(N(!0),B(D,null,j(e.list,o=>(N(),B("div",{class:"video-item",key:o.Id},[u("div",R,[u("video",{class:"video-player item.Payload.Number",controls:"",poster:o.Payload.Pic,preload:"metadata",onMouseenter:s[2]||(s[2]=S=>e.playVideo()),onMouseleave:s[3]||(s[3]=S=>e.stopVideo())},[u("source",{class:"video-source",src:o.Payload.VideoShort,type:"video/mp4"},null,8,G)],40,A)]),u("div",J,[l(P,{class:"el-link",title:"\u89C6\u9891\u5C0F\u6837\u94FE\u63A5",type:"primary",href:o.Payload.VideoPreview,target:"_blank"},{default:n(()=>[c(k(o.Payload.Title),1)]),_:2},1032,["href"]),l(P,{class:"el-label",title:"\u7F51\u7AD9\u94FE\u63A5",href:o.Payload.Url,target:"_blank"},{default:n(()=>[c(" \u89C6\u9891\u7F16\u53F7 - "+k(o.Payload.Number),1)]),_:2},1032,["href"]),l(p,{type:"primary",onClick:S=>e.openFolder(o.Payload.FormalLocal)},{default:n(()=>[c("\u6253\u5F00\u6587\u4EF6")]),_:2},1032,["onClick"])])]))),128))])])])]),l(h,{style:{display:"flex","justify-content":"center","align-items":"center"},value:e.page,"onUpdate:value":s[4]||(s[4]=o=>e.page=o)},{default:n(()=>[V(l(p,{onClick:e.prePage},{default:n(()=>[c("\u4E0A\u4E00\u9875")]),_:1},8,["onClick"]),[[C,e.dialogVisible1===!0]]),V(l(p,{onClick:e.nextPage},{default:n(()=>[c("\u4E0B\u4E00\u9875")]),_:1},8,["onClick"]),[[C,e.dialogVisible2===!0]])]),_:1},8,["value"])]),_:1})]),_:1})]),_:1})]),_:1})}const Y=K(E,[["render",W],["__scopeId","data-v-27f692b9"]]);export{Y as default};
