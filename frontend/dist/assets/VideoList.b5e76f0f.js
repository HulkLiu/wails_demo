import{_ as j,d as G,i as R,a as c,j as z,h as q,r as A,x as K,g as f,y as M,z as C,b as i,A as $,k as S,n as E,w as d,B as F,D as H,V as I,H as J,I as Q,J as X,N as _,o as N,e as l,f as s,q as W,v as D,m as k}from"./index.a5e916c4.js";const Y=H(),Z=G({setup(){const e=R(),a={Title:[{required:!0,message:"\u8BF7\u8F93\u5165\u89C6\u9891\u6807\u9898"}],Number:[{required:!0,message:"\u8BF7\u8F93\u5165\u89C6\u9891\u7F16\u53F7"}],FormalLocal:[{required:!0,message:"\u8BF7\u8F93\u5165\u672C\u5730\u89C6\u9891\u8D44\u6E90\u5730\u5740"}],ShortLocal:[{required:!0,message:"\u8BF7\u8F93\u5165\u672C\u5730\u9884\u89C8\u89C6\u9891"}]},v=c(),B=[{label:"\u7F16\u8F91",key:"edit"},{label:()=>C("span",{style:{color:"red"}},"\u5220\u9664"),key:"delete"}],T=z(()=>({pageSize:10})),h=c(!1),u=c(0),n=c(0),g=()=>{I(v.value).then(o=>{o.code!==200&&f({title:o.msg,type:"error"}),v.value=o.data.Query,o.data.Hits===0?y.value={}:y.value=o.data.Items})};q(()=>{g()});let L=A({}),y=c();const p=c(!1),r=c({Id:"",Url:"",Type:"",Payload:{Title:"",VideoShort:"",Pic:"",Url:"",VideoPreview:"",VideoFormal:"",Number:"",ShortLocal:"",PreviewLocal:"",FormalLocal:"",ImgLocal:""}}),w=o=>{p.value=!0,L.value=o,r.value=o};let b=()=>{I(v.value).then(o=>{o.code!==200&&f({title:o.msg,type:"error"}),v.value=o.data.Query,o.data.Hits===0?y.value={}:y.value=o.data.Items})};const V=o=>{console.log(o),J(o).then(m=>{if(p.value=!1,m.code!==200){f({title:m.msg,type:"error"});return}f({title:m.msg,type:"success"}),b()})},P=()=>{Q(r.value).then(o=>{if(p.value=!1,o.code!==200){f({title:o.msg,type:"error"});return}f({title:o.msg,type:"success"})})},U=()=>{X(r.value).then(o=>{if(o.code!==200){f({title:o.msg,type:"error"});return}console.log(o.data),r.value.Payload.Number=o.data.Payload.Number})};return{emits:Y,showDataModal:w,deleteRow:V,videoManageList:b,addList:P,dialogVisible:p,rules:a,form:r,data:y,keyword:v,paginationRef:T,searchData:g,options:B,showDropdown:h,x:u,y:n,selectedRow:{},rowKey(o){return o},createVideo(){P(),setTimeout(()=>{b()},100)},dialogVisibleAdd(){r.value={Id:"",Url:"",Type:"",Payload:{Title:"",VideoShort:"",Pic:"",Url:"",VideoPreview:"",VideoFormal:"",Number:"",ShortLocal:"",PreviewLocal:"",FormalLocal:"",ImgLocal:""}},p.value=!0},VideoListExport(){K(v.value).then(o=>{o.code!==200&&f({title:o.msg,type:"error"})})},search(){b()},handleSelect(){h.value=!1},onClickoutside(){h.value=!1},rowProps:o=>({onContextmenu:m=>{m.preventDefault(),h.value=!1,M().then(()=>{h.value=!0,u.value=m.clientX,n.value=m.clientY,p.value=!1})}}),cols:[{title:"No.",key:"no"},{title:"id",key:"Id"},{title:"\u6807\u9898",key:"Title",render(o){return C(_,{size:"small",onClick:()=>w(o)},{default:()=>o.Payload.Title})}},{title:"\u64CD\u4F5C",key:"Title",render(o){return C(_,{size:"small",onClick:()=>V(o)},{default:()=>"\u5220\u9664"})}},{title:"\u7F51\u7AD9\u94FE\u63A5",key:"Url"}],autoGetVideoNumber(){e.info("\u5F85\u5F00\u53D1"),U()}}}}),O=k("br",null,null,-1),x=k("br",null,null,-1),ee=k("br",null,null,-1),le=k("br",null,null,-1);function oe(e,a,v,B,T,h){const u=i("n-button"),n=i("n-input"),g=i("el-header"),L=i("n-data-table"),y=i("n-dropdown"),p=i("n-alert"),r=i("n-form-item"),w=i("n-form"),b=i("n-card"),V=i("n-modal"),P=i("el-main"),U=i("n-message-provider"),o=i("el-container"),m=$("loading");return S((N(),E(o,{class:"page-cantor",style:F(e.areaStyle)},{default:d(()=>[l(g,{class:"header-area",style:{height:"89px"}},{default:d(()=>[l(u,{onClick:e.VideoListExport},{default:d(()=>[s("\u5BFC\u51FA EXCEL ")]),_:1},8,["onClick"]),l(u,{onClick:e.dialogVisibleAdd},{default:d(()=>[s(" \u65B0\u589E\u89C6\u9891 ")]),_:1},8,["onClick"]),l(n,{value:e.keyword,"onUpdate:value":a[0]||(a[0]=t=>e.keyword=t),placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u5B57",onKeyup:W(e.search,["enter"]),onEmitVideoList:e.search},null,8,["value","onKeyup","onEmitVideoList"])]),_:1}),l(U,null,{default:d(()=>[l(P,{class:"main-area",style:{"--wails-draggable":"no-drag"}},{default:d(()=>[l(L,{columns:e.cols,data:e.data,"row-props":e.rowProps,pagination:e.paginationRef},null,8,["columns","data","row-props","pagination"]),l(y,{placement:"bottom-start",trigger:"manual","row-key":e.rowKey,x:e.x,y:e.y,options:e.options,show:e.showDropdown,"on-clickoutside":e.onClickoutside,onSelect:e.handleSelect},null,8,["row-key","x","y","options","show","on-clickoutside","onSelect"]),l(V,{show:e.dialogVisible,"onUpdate:show":a[15]||(a[15]=t=>e.dialogVisible=t),style:{width:"1500px"}},{default:d(()=>[l(b,{style:F([{width:"67%"},{maxWidth:"840px"}]),title:"\u89C6\u9891\u65B0\u589E/\u4FEE\u6539",bordered:!1,size:"huge",role:"dialog","aria-modal":"true","label-width":90},{"header-extra":d(()=>[]),footer:d(()=>[]),default:d(()=>[l(w,{model:e.form,rules:e.rules,"label-placement":"left"},{default:d(()=>[l(p,{title:"\u65B0\u589E\u6587\u4EF6\u89C4\u5219",type:"info",bordered:!1,style:{"margin-bottom":"30px"}},{default:d(()=>[s(" 1\u3001\u65B0\u589E\u89C6\u9891\u524D\uFF1A\u8BF7\u521B\u5EFA\u5982\u4E0B\u76EE\u5F55 "),O,s("\xA0\xA0\xA0\xA0\xA0\xA0Z:\\\u534E\u7AE0\u7D20\u6750\u5E93 => \u89C6\u9891\u7F16\u53F7\u540D\u79F0\u6587\u4EF6\u5939 => 4\u79CD\u8D44\u6E90\u6587\u4EF6"),x,ee,s(" 2\u3001\u89C6\u9891\u7F16\u53F7\u89C4\u5219\u53C2\u8003\uFF1Ahttps://www.vjshi.com/watch/27067568.html "),le,s("\xA0\xA0\xA0\xA0\xA0\xA0\u89C6\u9891\u7F16\u53F7\uFF1A27067568 ")]),_:1}),S(l(r,{path:"Type",label:"Type"},{default:d(()=>[l(n,{disabled:!0,value:e.form.Type,"onUpdate:value":a[1]||(a[1]=t=>e.form.Type=t),placeholder:"\u81EA\u52A8\u6DFB\u52A0"},null,8,["value"])]),_:1},512),[[D,!1]]),S(l(r,{path:"Id",label:"Id"},{default:d(()=>[l(n,{disabled:!0,value:e.form.Id,"onUpdate:value":a[2]||(a[2]=t=>e.form.Id=t),placeholder:"\u81EA\u52A8\u6DFB\u52A0"},null,8,["value"])]),_:1},512),[[D,!1]]),l(r,{path:"Number",label:"\u89C6\u9891\u7F16\u53F7 ",title:"aa"},{default:d(()=>[l(u,{onClick:e.autoGetVideoNumber},{default:d(()=>[s("\u81EA\u52A8\u83B7\u53D6")]),_:1},8,["onClick"]),l(n,{value:e.form.Payload.Number,"onUpdate:value":a[3]||(a[3]=t=>e.form.Payload.Number=t),placeholder:"\u65B0\u589E\u65F6\uFF0C\u8BF7\u4FDD\u6301\u7F16\u53F7\u89C6\u9891\u4E0D\u8981\u91CD\u590D\uFF01"},null,8,["value"])]),_:1}),l(r,{path:"Title",label:"\u89C6\u9891\u6807\u9898"},{default:d(()=>[l(n,{value:e.form.Payload.Title,"onUpdate:value":a[4]||(a[4]=t=>e.form.Payload.Title=t),placeholder:"\u89C6\u9891\u6807\u9898"},null,8,["value"])]),_:1}),l(r,{path:"ShortLocal",label:"\u672C\u5730\u9884\u89C8\u5730\u5740"},{default:d(()=>[l(n,{value:e.form.Payload.ShortLocal,"onUpdate:value":a[5]||(a[5]=t=>e.form.Payload.ShortLocal=t),placeholder:"G:\\Videos/8909441/\u6EF4\u6C34\u7A7F\u77F3 \u5CA9\u77F3\u6EF4\u6C34_8909441_VideoShort.mp4"},null,8,["value"])]),_:1}),l(r,{path:"FormalLocal",label:"\u672C\u5730\u8D44\u6E90\u5730\u5740"},{default:d(()=>[l(n,{value:e.form.Payload.FormalLocal,"onUpdate:value":a[6]||(a[6]=t=>e.form.Payload.FormalLocal=t),placeholder:"G:\\Videos/8909441/\u6EF4\u6C34\u7A7F\u77F3 \u5CA9\u77F3\u6EF4\u6C34_8909441_VideoFormal.mp4"},null,8,["value"])]),_:1}),l(r,{path:"PreviewLocal",label:"\u672C\u5730\u5C0F\u6837\u5730\u5740"},{default:d(()=>[l(n,{value:e.form.Payload.PreviewLocal,"onUpdate:value":a[7]||(a[7]=t=>e.form.Payload.PreviewLocal=t),placeholder:"G:\\Videos/8909441/\u6EF4\u6C34\u7A7F\u77F3 \u5CA9\u77F3\u6EF4\u6C34_8909441_VideoPreview.mp4"},null,8,["value"])]),_:1}),l(r,{path:"ImgLocal",label:"\u672C\u5730\u56FE\u7247\u5730\u5740"},{default:d(()=>[l(n,{value:e.form.Payload.ImgLocal,"onUpdate:value":a[8]||(a[8]=t=>e.form.Payload.ImgLocal=t),placeholder:"G:\\Videos/8909441/\u6EF4\u6C34\u7A7F\u77F3 \u5CA9\u77F3\u6EF4\u6C34_8909441.jpg"},null,8,["value"])]),_:1}),l(r,{path:"Url",label:"\u89C6\u9891\u5730\u5740"},{default:d(()=>[l(n,{value:e.form.Url,"onUpdate:value":a[9]||(a[9]=t=>e.form.Url=t),placeholder:"https://www.vjshi.com/watch/8909441.html"},null,8,["value"])]),_:1}),l(r,{path:"VideoShort",label:"\u9884\u89C8\u89C6\u9891"},{default:d(()=>[l(n,{value:e.form.Payload.VideoShort,"onUpdate:value":a[10]||(a[10]=t=>e.form.Payload.VideoShort=t),placeholder:"https://lmp4.vjshi.com/2022-08-28/7cf436ce6cbb4b589dfae5a68318bd10.mp4"},null,8,["value"])]),_:1}),l(r,{path:"Pic",label:"\u9884\u89C8\u56FE\u7247"},{default:d(()=>[l(n,{value:e.form.Payload.Pic,"onUpdate:value":a[11]||(a[11]=t=>e.form.Payload.Pic=t),placeholder:"https://pic.vjshi.com/2022-08-28/7cf436ce6cbb4b589dfae5a68318bd10/online/797a9896d32e46958e8a3a0ac33a9052.jpg?x-oss-process=style/w1440_h2880"},null,8,["value"])]),_:1}),l(r,{path:"VideoPreview",label:"\u89C6\u9891\u5C0F\u6837"},{default:d(()=>[l(n,{value:e.form.Payload.VideoPreview,"onUpdate:value":a[12]||(a[12]=t=>e.form.Payload.VideoPreview=t),placeholder:"https://mp4.vjshi.com/2022-08-28/7cf436ce6cbb4b589dfae5a68318bd10.mp4"},null,8,["value"])]),_:1}),l(r,{path:"VideoFormal",label:"\u89C6\u9891\u5730\u5740/\u538B\u7F29\u5305\u5730\u5740"},{default:d(()=>[l(n,{value:e.form.Payload.VideoFormal,"onUpdate:value":a[13]||(a[13]=t=>e.form.Payload.VideoFormal=t),placeholder:"https://down.vjshi.com/2022-08-28/8909441_VJshi_0480c6149f8fa56ab686590d33896492.mp4?auth_key=1701938201-0-0-c007876c45599831d2bb50d212021d6b&rename=%E5%85%89%E5%8E%82_8909441_%E6%BB%B4%E6%B0%B4%E7%A9%BF%E7%9F%B3%E5%B2%A9%E7%9F%B3%E6%BB%B4%E6%B0%B4.mp4"},null,8,["value"])]),_:1}),l(r,null,{default:d(()=>[e.form.Id===""?(N(),E(u,{key:0,type:"primary",onClick:e.createVideo,disabled:e.form.Payload.Number===""||e.form.Payload.FormalLocal===""||e.form.Payload.ShortLocal===""||e.form.Payload.Title==="",loading:e.loading},{default:d(()=>[s("\u521B\u5EFA")]),_:1},8,["onClick","disabled","loading"])):(N(),E(u,{key:1,type:"primary",onClick:e.createVideo},{default:d(()=>[s("\u4FDD\u5B58")]),_:1},8,["onClick"])),l(u,{onClick:a[14]||(a[14]=t=>e.dialogVisible=!1)},{default:d(()=>[s("\u53D6\u6D88")]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1},8,["show"])]),_:1})]),_:1})]),_:1},8,["style"])),[[m,e.loading]])}const te=j(Z,[["render",oe]]);export{te as default};
