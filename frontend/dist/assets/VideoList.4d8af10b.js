import{_ as G,d as R,h as K,a as v,l as M,k as z,r as q,y as A,g as c,z as $,j as U,b as i,A as H,m as B,i as E,w as d,B as F,D as J,V as I,H as Q,I as D,J as W,K as X,N as _,o as S,e as l,f as s,s as O,v as j,q as k}from"./index.7d50e423.js";const Y=J(),Z=R({setup(){const e=K(),a={Title:[{required:!0,message:"\u8BF7\u8F93\u5165\u89C6\u9891\u6807\u9898"}],Number:[{required:!0,message:"\u8BF7\u8F93\u5165\u89C6\u9891\u7F16\u53F7"}],FormalLocal:[{required:!0,message:"\u8BF7\u8F93\u5165\u672C\u5730\u89C6\u9891\u8D44\u6E90\u5730\u5740"}],ShortLocal:[{required:!0,message:"\u8BF7\u8F93\u5165\u672C\u5730\u9884\u89C8\u89C6\u9891"}]},m=v(),T=[{label:"\u7F16\u8F91",key:"edit"},{label:()=>U("span",{style:{color:"red"}},"\u5220\u9664"),key:"delete"}],N=M(()=>({pageSize:10})),y=v(!1),u=v(0),r=v(0),g=()=>{I(m.value).then(o=>{o.code!==200&&c({title:o.msg,type:"error"}),m.value=o.data.Query,o.data.Hits===0?p.value={}:p.value=o.data.Items})};z(()=>{g()});let L=q({}),p=v();const f=v(!1),n=v({Id:"",Url:"",Type:"",Payload:{Title:"",VideoShort:"",Pic:"",Url:"",VideoPreview:"",VideoFormal:"",Number:"",ShortLocal:"",PreviewLocal:"",FormalLocal:"",ImgLocal:""}}),w=o=>{f.value=!0,L.value=o,n.value=o};let h=()=>{I(m.value).then(o=>{o.code!==200&&c({title:o.msg,type:"error"}),m.value=o.data.Query,o.data.Hits===0?p.value={}:p.value=o.data.Items})};const P=o=>{console.log(o),Q.confirm("proxy will permanently delete the file. Continue?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(()=>{D({type:"success",message:"Delete completed"})}).catch(()=>{D({type:"info",message:"Delete canceled"})})},V=()=>{W(n.value).then(o=>{if(f.value=!1,o.code!==200){c({title:o.msg,type:"error"});return}c({title:o.msg,type:"success"})})},C=()=>{X(n.value).then(o=>{if(o.code!==200){c({title:o.msg,type:"error"});return}console.log(o.data),n.value.Payload.Number=o.data.Payload.Number})};return{emits:Y,showDataModal:w,deleteRow:P,videoManageList:h,addList:V,dialogVisible:f,rules:a,form:n,data:p,keyword:m,paginationRef:N,searchData:g,options:T,showDropdown:y,x:u,y:r,selectedRow:{},rowKey(o){return o},createVideo(){V(),setTimeout(()=>{h()},100)},dialogVisibleAdd(){n.value={Id:"",Url:"",Type:"",Payload:{Title:"",VideoShort:"",Pic:"",Url:"",VideoPreview:"",VideoFormal:"",Number:"",ShortLocal:"",PreviewLocal:"",FormalLocal:"",ImgLocal:""}},f.value=!0},VideoListExport(){A(m.value).then(o=>{o.code!==200&&c({title:o.msg,type:"error"})})},search(){h()},handleSelect(){y.value=!1},onClickoutside(){y.value=!1},rowProps:o=>({onContextmenu:b=>{b.preventDefault(),y.value=!1,$().then(()=>{y.value=!0,u.value=b.clientX,r.value=b.clientY,f.value=!1})}}),cols:[{title:"No.",key:"no"},{title:"id",key:"Id"},{title:"\u6807\u9898",key:"Title",render(o){return U(_,{size:"small",onClick:()=>w(o)},{default:()=>o.Payload.Title})}},{title:"\u64CD\u4F5C",key:"Title",render(o){return U(_,{size:"small",onClick:()=>P(o)},{default:()=>"\u5220\u9664"})}},{title:"\u7F51\u7AD9\u94FE\u63A5",key:"Url"}],autoGetVideoNumber(){e.info("\u5F85\u5F00\u53D1"),C()}}}}),x=k("br",null,null,-1),ee=k("br",null,null,-1),le=k("br",null,null,-1),oe=k("br",null,null,-1);function ae(e,a,m,T,N,y){const u=i("n-button"),r=i("n-input"),g=i("el-header"),L=i("n-data-table"),p=i("n-dropdown"),f=i("n-alert"),n=i("n-form-item"),w=i("n-form"),h=i("n-card"),P=i("n-modal"),V=i("el-main"),C=i("n-message-provider"),o=i("el-container"),b=H("loading");return B((S(),E(o,{class:"page-cantor",style:F(e.areaStyle)},{default:d(()=>[l(g,{class:"header-area",style:{height:"89px"}},{default:d(()=>[l(u,{onClick:e.VideoListExport},{default:d(()=>[s("\u5BFC\u51FA EXCEL ")]),_:1},8,["onClick"]),l(u,{onClick:e.dialogVisibleAdd},{default:d(()=>[s(" \u65B0\u589E\u89C6\u9891 ")]),_:1},8,["onClick"]),l(r,{value:e.keyword,"onUpdate:value":a[0]||(a[0]=t=>e.keyword=t),placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u5B57",onKeyup:O(e.search,["enter"]),onEmitVideoList:e.search},null,8,["value","onKeyup","onEmitVideoList"])]),_:1}),l(C,null,{default:d(()=>[l(V,{class:"main-area",style:{"--wails-draggable":"no-drag"}},{default:d(()=>[l(L,{columns:e.cols,data:e.data,"row-props":e.rowProps,pagination:e.paginationRef},null,8,["columns","data","row-props","pagination"]),l(p,{placement:"bottom-start",trigger:"manual","row-key":e.rowKey,x:e.x,y:e.y,options:e.options,show:e.showDropdown,"on-clickoutside":e.onClickoutside,onSelect:e.handleSelect},null,8,["row-key","x","y","options","show","on-clickoutside","onSelect"]),l(P,{show:e.dialogVisible,"onUpdate:show":a[15]||(a[15]=t=>e.dialogVisible=t),style:{width:"1500px"}},{default:d(()=>[l(h,{style:F([{width:"67%"},{maxWidth:"840px"}]),title:"\u89C6\u9891\u65B0\u589E/\u4FEE\u6539",bordered:!1,size:"huge",role:"dialog","aria-modal":"true","label-width":90},{"header-extra":d(()=>[]),footer:d(()=>[]),default:d(()=>[l(w,{model:e.form,rules:e.rules,"label-placement":"left"},{default:d(()=>[l(f,{title:"\u65B0\u589E\u6587\u4EF6\u89C4\u5219",type:"info",bordered:!1,style:{"margin-bottom":"30px"}},{default:d(()=>[s(" 1\u3001\u65B0\u589E\u89C6\u9891\u524D\uFF1A\u8BF7\u521B\u5EFA\u5982\u4E0B\u76EE\u5F55 "),x,s("\xA0\xA0\xA0\xA0\xA0\xA0Z:\\\u534E\u7AE0\u7D20\u6750\u5E93 => \u89C6\u9891\u7F16\u53F7\u540D\u79F0\u6587\u4EF6\u5939 => 4\u79CD\u8D44\u6E90\u6587\u4EF6"),ee,le,s(" 2\u3001\u89C6\u9891\u7F16\u53F7\u89C4\u5219\u53C2\u8003\uFF1Ahttps://www.vjshi.com/watch/27067568.html "),oe,s("\xA0\xA0\xA0\xA0\xA0\xA0\u89C6\u9891\u7F16\u53F7\uFF1A27067568 ")]),_:1}),B(l(n,{path:"Type",label:"Type"},{default:d(()=>[l(r,{disabled:!0,value:e.form.Type,"onUpdate:value":a[1]||(a[1]=t=>e.form.Type=t),placeholder:"\u81EA\u52A8\u6DFB\u52A0"},null,8,["value"])]),_:1},512),[[j,!1]]),B(l(n,{path:"Id",label:"Id"},{default:d(()=>[l(r,{disabled:!0,value:e.form.Id,"onUpdate:value":a[2]||(a[2]=t=>e.form.Id=t),placeholder:"\u81EA\u52A8\u6DFB\u52A0"},null,8,["value"])]),_:1},512),[[j,!1]]),l(n,{path:"Number",label:"\u89C6\u9891\u7F16\u53F7 ",title:"aa"},{default:d(()=>[l(u,{onClick:e.autoGetVideoNumber},{default:d(()=>[s("\u81EA\u52A8\u83B7\u53D6")]),_:1},8,["onClick"]),l(r,{value:e.form.Payload.Number,"onUpdate:value":a[3]||(a[3]=t=>e.form.Payload.Number=t),placeholder:"\u65B0\u589E\u65F6\uFF0C\u8BF7\u4FDD\u6301\u7F16\u53F7\u89C6\u9891\u4E0D\u8981\u91CD\u590D\uFF01"},null,8,["value"])]),_:1}),l(n,{path:"Title",label:"\u89C6\u9891\u6807\u9898"},{default:d(()=>[l(r,{value:e.form.Payload.Title,"onUpdate:value":a[4]||(a[4]=t=>e.form.Payload.Title=t),placeholder:"\u89C6\u9891\u6807\u9898"},null,8,["value"])]),_:1}),l(n,{path:"ShortLocal",label:"\u672C\u5730\u9884\u89C8\u5730\u5740"},{default:d(()=>[l(r,{value:e.form.Payload.ShortLocal,"onUpdate:value":a[5]||(a[5]=t=>e.form.Payload.ShortLocal=t),placeholder:"G:\\Videos/8909441/\u6EF4\u6C34\u7A7F\u77F3 \u5CA9\u77F3\u6EF4\u6C34_8909441_VideoShort.mp4"},null,8,["value"])]),_:1}),l(n,{path:"FormalLocal",label:"\u672C\u5730\u8D44\u6E90\u5730\u5740"},{default:d(()=>[l(r,{value:e.form.Payload.FormalLocal,"onUpdate:value":a[6]||(a[6]=t=>e.form.Payload.FormalLocal=t),placeholder:"G:\\Videos/8909441/\u6EF4\u6C34\u7A7F\u77F3 \u5CA9\u77F3\u6EF4\u6C34_8909441_VideoFormal.mp4"},null,8,["value"])]),_:1}),l(n,{path:"PreviewLocal",label:"\u672C\u5730\u5C0F\u6837\u5730\u5740"},{default:d(()=>[l(r,{value:e.form.Payload.PreviewLocal,"onUpdate:value":a[7]||(a[7]=t=>e.form.Payload.PreviewLocal=t),placeholder:"G:\\Videos/8909441/\u6EF4\u6C34\u7A7F\u77F3 \u5CA9\u77F3\u6EF4\u6C34_8909441_VideoPreview.mp4"},null,8,["value"])]),_:1}),l(n,{path:"ImgLocal",label:"\u672C\u5730\u56FE\u7247\u5730\u5740"},{default:d(()=>[l(r,{value:e.form.Payload.ImgLocal,"onUpdate:value":a[8]||(a[8]=t=>e.form.Payload.ImgLocal=t),placeholder:"G:\\Videos/8909441/\u6EF4\u6C34\u7A7F\u77F3 \u5CA9\u77F3\u6EF4\u6C34_8909441.jpg"},null,8,["value"])]),_:1}),l(n,{path:"Url",label:"\u89C6\u9891\u5730\u5740"},{default:d(()=>[l(r,{value:e.form.Url,"onUpdate:value":a[9]||(a[9]=t=>e.form.Url=t),placeholder:"https://www.vjshi.com/watch/8909441.html"},null,8,["value"])]),_:1}),l(n,{path:"VideoShort",label:"\u9884\u89C8\u89C6\u9891"},{default:d(()=>[l(r,{value:e.form.Payload.VideoShort,"onUpdate:value":a[10]||(a[10]=t=>e.form.Payload.VideoShort=t),placeholder:"https://lmp4.vjshi.com/2022-08-28/7cf436ce6cbb4b589dfae5a68318bd10.mp4"},null,8,["value"])]),_:1}),l(n,{path:"Pic",label:"\u9884\u89C8\u56FE\u7247"},{default:d(()=>[l(r,{value:e.form.Payload.Pic,"onUpdate:value":a[11]||(a[11]=t=>e.form.Payload.Pic=t),placeholder:"https://pic.vjshi.com/2022-08-28/7cf436ce6cbb4b589dfae5a68318bd10/online/797a9896d32e46958e8a3a0ac33a9052.jpg?x-oss-process=style/w1440_h2880"},null,8,["value"])]),_:1}),l(n,{path:"VideoPreview",label:"\u89C6\u9891\u5C0F\u6837"},{default:d(()=>[l(r,{value:e.form.Payload.VideoPreview,"onUpdate:value":a[12]||(a[12]=t=>e.form.Payload.VideoPreview=t),placeholder:"https://mp4.vjshi.com/2022-08-28/7cf436ce6cbb4b589dfae5a68318bd10.mp4"},null,8,["value"])]),_:1}),l(n,{path:"VideoFormal",label:"\u89C6\u9891\u5730\u5740/\u538B\u7F29\u5305\u5730\u5740"},{default:d(()=>[l(r,{value:e.form.Payload.VideoFormal,"onUpdate:value":a[13]||(a[13]=t=>e.form.Payload.VideoFormal=t),placeholder:"https://down.vjshi.com/2022-08-28/8909441_VJshi_0480c6149f8fa56ab686590d33896492.mp4?auth_key=1701938201-0-0-c007876c45599831d2bb50d212021d6b&rename=%E5%85%89%E5%8E%82_8909441_%E6%BB%B4%E6%B0%B4%E7%A9%BF%E7%9F%B3%E5%B2%A9%E7%9F%B3%E6%BB%B4%E6%B0%B4.mp4"},null,8,["value"])]),_:1}),l(n,null,{default:d(()=>[e.form.Id===""?(S(),E(u,{key:0,type:"primary",onClick:e.createVideo,disabled:e.form.Payload.Number===""||e.form.Payload.FormalLocal===""||e.form.Payload.ShortLocal===""||e.form.Payload.Title==="",loading:e.loading},{default:d(()=>[s("\u521B\u5EFA")]),_:1},8,["onClick","disabled","loading"])):(S(),E(u,{key:1,type:"primary",onClick:e.createVideo},{default:d(()=>[s("\u4FDD\u5B58")]),_:1},8,["onClick"])),l(u,{onClick:a[14]||(a[14]=t=>e.dialogVisible=!1)},{default:d(()=>[s("\u53D6\u6D88")]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1},8,["show"])]),_:1})]),_:1})]),_:1},8,["style"])),[[b,e.loading]])}const de=G(Z,[["render",ae]]);export{de as default};
